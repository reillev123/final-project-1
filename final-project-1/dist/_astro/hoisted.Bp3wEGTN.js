import"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js";import"https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js";import"./SocialMediaIcons.astro_astro_type_script_index_0_lang.Bx-rmOrY.js";async function d(t){const r="https://api.edamam.com/api/recipes/v2",i="d7193a6c",n="c9b8ee8a1b8166ef57bc491438a36768",e=t.query.map(c=>`"${c}"`).join(", "),o=`${r}?type=public&beta=true&q=${encodeURIComponent(e)}&app_id=${i}&app_key=${n}&dishType=${t.dishType}`;try{const c=await fetch(o);if(!c.ok)throw new Error("Network response was not ok "+c.statusText);return(await c.json()).hits}catch{return[]}}function a(t,r,i){const n=document.getElementById(r);if(!n)return;const e=document.createElement("div");e.className="card",e.innerHTML=`
        <img src="${t.image}" alt="${t.label}">
        <h5 class="card-title">${t.label}</h5>
        <button class="btn view-recipe-btn" data-uri="${encodeURIComponent(t.uri)}">View Recipe</button>
        
    `,n.appendChild(e),document.querySelectorAll(".view-recipe-btn").forEach(o=>{o.addEventListener("click",function(){const c=this.getAttribute("data-uri"),s=i.find(p=>encodeURIComponent(p.recipe.uri)===c);localStorage.setItem("currentRecipe",JSON.stringify(s.recipe)),window.location.href="/final-project-1/recipe-details"})})}async function l(){const t=await d({query:["pastries","cakes","bread"],dishType:"Desserts"});if(t.length>0){const r=t.filter(e=>e.recipe.label.toLowerCase().includes("bread"));if(r.length>0){const e=r[Math.floor(Math.random()*r.length)].recipe;a(e,"bread-recipes",t)}const i=t.filter(e=>e.recipe.label.toLowerCase().includes("cake"));if(i.length>0){const e=i[Math.floor(Math.random()*i.length)].recipe;a(e,"cake-recipes",t)}const n=t.filter(e=>e.recipe.label.toLowerCase().includes("pastry"));if(n.length>0){const e=n[Math.floor(Math.random()*n.length)].recipe;a(e,"pastry-recipes",t)}}else console.log("No recipes found")}document.addEventListener("DOMContentLoaded",function(){l()});
