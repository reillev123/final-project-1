import"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js";import"https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js";import"./SocialMediaIcons.astro_astro_type_script_index_0_lang.C-cyE6Sp.js";async function s(t){const n="https://api.edamam.com/api/recipes/v2",c="d7193a6c",a="c9b8ee8a1b8166ef57bc491438a36768",e=t.query.map(o=>`"${o}"`).join(", "),i=`${n}?type=public&beta=true&q=${encodeURIComponent(e)}&app_id=${c}&app_key=${a}&dishType=${t.dishType}`;try{const o=await fetch(i);if(!o.ok)throw new Error("Network response was not ok "+o.statusText);return(await o.json()).hits}catch(o){return console.error("There was a problem with the fetch operation:",o),[]}}function r(t,n){const c=document.getElementById(n);if(!c)return;const a=document.createElement("div");a.className="card",a.innerHTML=`
        <img src="${t.image}" alt="${t.label}">
        <h5 class="card-title">${t.label}</h5>
        <button class="btn view-recipe-btn">View Recipe</button>
    `,c.appendChild(a);const e=a.querySelector(".view-recipe-btn");e&&e.addEventListener("click",()=>{localStorage.setItem("selectedRecipe",JSON.stringify(t)),window.location.href="/final-project-1/recipe-details"})}async function p(){const t=await s({query:["pastries","cakes","bread"],dishType:"Desserts"});if(t.length>0){const n=t.filter(e=>e.recipe.label.toLowerCase().includes("bread"));if(n.length>0){const e=n[Math.floor(Math.random()*n.length)].recipe;r(e,"bread-recipes")}const c=t.filter(e=>e.recipe.label.toLowerCase().includes("cake"));if(c.length>0){const e=c[Math.floor(Math.random()*c.length)].recipe;r(e,"cake-recipes")}const a=t.filter(e=>e.recipe.label.toLowerCase().includes("pastry"));if(a.length>0){const e=a[Math.floor(Math.random()*a.length)].recipe;r(e,"pastry-recipes")}}else console.log("No recipes found")}document.addEventListener("DOMContentLoaded",function(){p()});
